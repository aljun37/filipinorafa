<!DOCTYPE html>
<html lang="tl">
<head>
<meta charset="UTF-8" />
<title>Pagsusulit sa Wika</title>
<style>
    body { 
        font-family: 'Comic Sans MS', cursive, sans-serif; 
        background-color: #d4ecd4; 
        padding: 20px; 
        margin: 0;
    }
    .container { 
        max-width: 700px; 
        margin: auto; 
        background: #ffffff; 
        padding: 30px 40px 40px 40px; 
        border-radius: 15px; 
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        position: relative;
    }
    .profile-pic {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        border: 3px solid #27632a;
        position: absolute;
        top: -40px;
        left: 30px;
        object-fit: cover;
        box-shadow: 0 0 8px rgba(39, 99, 42, 0.7);
        background-color: white;
    }
    h2 {
        text-align: center;
        color: #27632a;
        font-weight: bold;
        font-size: 2.3em;
        margin-top: 10px;
        font-family: 'Comic Sans MS', cursive, sans-serif;
    }
    #sectionLabel {
        font-size: 1.5em;
        font-weight: bold;
        color: #27632a;
        border-bottom: 2px solid #27632a;
        margin-top: 20px;
        padding-bottom: 5px;
        font-family: 'Comic Sans MS', cursive, sans-serif;
    }
    .question {
        font-size: 1.2em;
        margin-top: 15px;
        font-family: 'Comic Sans MS', cursive, sans-serif;
    }
    input[type="text"], select {
        width: 100%;
        padding: 8px;
        margin-top: 10px;
        font-size: 1.1em;
        border: 2px solid #27632a;
        border-radius: 8px;
        font-family: 'Comic Sans MS', cursive, sans-serif;
        box-sizing: border-box;
    }
    button {
        background-color: #27632a;
        color: white;
        font-weight: bold;
        font-size: 1.1em;
        border: none;
        border-radius: 10px;
        padding: 12px 25px;
        margin-top: 20px;
        cursor: pointer;
        font-family: 'Comic Sans MS', cursive, sans-serif;
        transition: background-color 0.3s ease;
    }
    button:disabled {
        background-color: #a2c79a;
        cursor: not-allowed;
    }
    button:hover:not(:disabled) {
        background-color: #1f4f1a;
    }
    .result {
        margin-top: 20px;
        font-size: 1.2em;
        font-weight: bold;
        font-family: 'Comic Sans MS', cursive, sans-serif;
    }
</style>
</head>
<body>
<div class="container">
    <img src="rafa.jpg" alt="Profile" class="profile-pic" />
    <h2>Pagsusulit sa Wika</h2>
    <div id="sectionLabel"></div>
    <div id="quiz-section"></div>
    <button id="btnCheck">Sagot</button>
    <button id="btnNext">Susunod</button>
    <div class="result" id="lblResult"></div>
</div>

<script>
// ==== Section Data (same as before) ====
let pamilangQuestions = [
    {Text: "May tatlong ibon sa sanga ng puno.", Word: "tatlong", Type: "Kardinal"},
    {Text: "Si Liza ay may apat na kapatid.", Word: "apat", Type: "Kardinal"},
    {Text: "Nakakuha si Ana ng limang bituin sa takdang-aralin.", Word: "limang", Type: "Kardinal"},
    {Text: "May dalawang aso sa bakuran.", Word: "dalawang", Type: "Kardinal"},
    {Text: "Bumili si Pedro ng pitong mansanas.", Word: "pitong", Type: "Kardinal"},
    {Text: "May siyam na bata sa palaruan.", Word: "siyam", Type: "Kardinal"},
    {Text: "Nagdala siya ng sampung libro sa paaralan.", Word: "sampung", Type: "Kardinal"},
    {Text: "Tatlong beses siyang pumunta sa tindahan.", Word: "tatlong", Type: "Kardinal"},
    {Text: "May walong kandila sa cake.", Word: "walong", Type: "Kardinal"},
    {Text: "May anim na guro sa paaralan.", Word: "anim", Type: "Kardinal"},
    {Text: "Siya ang ikalimang nakatapos sa laro.", Word: "ikalimang", Type: "Ordinal"},
    {Text: "Si Ben ang pangatlong nagsalita sa pagpupulong.", Word: "pangatlong", Type: "Ordinal"},
    {Text: "Ang unang guro ay nagpakilala sa klase.", Word: "unang", Type: "Ordinal"},
    {Text: "Siya ang pang-apat na tumawid sa finish line.", Word: "pang-apat", Type: "Ordinal"},
    {Text: "Siya ang ikasiyam na umalis sa silid.", Word: "ikasiyam", Type: "Ordinal"},
    {Text: "Ang ikalawang awitin ang kanyang paborito.", Word: "ikalawang", Type: "Ordinal"},
    {Text: "Binigyan niya ako ng kalahati ng tinapay.", Word: "kalahati", Type: "Pamahagi"},
    {Text: "Kumain siya ng tatlong-kapat ng cake.", Word: "tatlong-kapat", Type: "Pamahagi"},
    {Text: "May tiglilimang kendi ang bawat bata.", Word: "tiglilimang", Type: "Pamahagi"},
    {Text: "Bumili si Nanay ng isang dosenang itlog.", Word: "isang dosenang", Type: "Palansak"}
];
let tayutayQuestions = [
    {Text: "Ang kanyang mga mata ay parang bituin sa gabi.", Answer: "Simili"},
    {Text: "Siya ay leon sa tapang.", Answer: "Metapora"},
    {Text: "Ang ulap ay kumot sa langit.", Answer: "Metapora"},
    {Text: "Ang kanyang tinig ay kasing tamis ng pulot.", Answer: "Simili"},
    {Text: "Ang buhay ay isang gulong.", Answer: "Metapora"},
    {Text: "Ang kanyang buhok ay parang ginto.", Answer: "Simili"},
    {Text: "Siya ay isang alamat sa kanyang bayan.", Answer: "Metapora"},
    {Text: "Ang pag-ibig ay isang apoy.", Answer: "Metapora"},
    {Text: "Ang kanyang mukha ay kasing puti ng niyebe.", Answer: "Simili"},
    {Text: "Ang oras ay tumakbo tulad ng hangin.", Answer: "Simili"},
    {Text: "Ang kanyang puso ay bato.", Answer: "Metapora"},
    {Text: "Siya ay isang araw sa aking umaga.", Answer: "Metapora"},
    {Text: "Ang kanyang tinig ay parang musika sa tenga.", Answer: "Simili"},
    {Text: "Ang kanyang mga mata ay dagat ng kalungkutan.", Answer: "Metapora"},
    {Text: "Siya ay parang ulap na lumilipad sa langit.", Answer: "Simili"},
    {Text: "Ang kanyang ngiti ay araw sa aking buhay.", Answer: "Metapora"},
    {Text: "Ang kanyang mga hakbang ay parang hangin.", Answer: "Simili"},
    {Text: "Ang puso niya ay parang yelo.", Answer: "Simili"},
    {Text: "Siya ay isang bituin sa gabi ng buhay.", Answer: "Metapora"},
    {Text: "Ang kanyang boses ay parang kampana.", Answer: "Simili"}
];
let pangUriQuestions = [
    {Text: "May limang masayang bata sa parke.", Word: "limang", Type: "Pamilang"},
    {Text: "Ang batang masaya ay lumapit sa nanay.", Word: "masaya", Type: "Panlarawan"},
    {Text: "Nakakita ako ng isang malaking aso.", Word: "malaking", Type: "Panlarawan"},
    {Text: "Bumili siya ng tatlong kendi.", Word: "tatlong", Type: "Pamilang"},
    {Text: "May magandang tanawin sa Baguio.", Word: "magandang", Type: "Panlarawan"},
    {Text: "Ang ikatlong upuan ay sira na.", Word: "ikatlong", Type: "Pamilang"},
    {Text: "Ang maingay na bata ay lumabas.", Word: "maingay", Type: "Panlarawan"},
    {Text: "May dalawang ibon sa hawla.", Word: "dalawang", Type: "Pamilang"},
    {Text: "Masarap ang bagong lutong pansit.", Word: "bagong", Type: "Panlarawan"},
    {Text: "Bumili siya ng pitong tinapay.", Word: "pitong", Type: "Pamilang"},
    {Text: "Ang luma at sirang upuan ay itinapon.", Word: "luma", Type: "Panlarawan"},
    {Text: "Siya ay may anim na alagang pusa.", Word: "anim", Type: "Pamilang"},
    {Text: "Ang maputi niyang buhok ay kumikislap.", Word: "maputi", Type: "Panlarawan"},
    {Text: "May apat na estudyante sa silid.", Word: "apat", Type: "Pamilang"},
    {Text: "Ang malamig na hangin ay dumadaloy.", Word: "malamig", Type: "Panlarawan"},
    {Text: "May walong ibon sa himpapawid.", Word: "walong", Type: "Pamilang"},
    {Text: "Ang masarap na pagkain ay niluto ni Nanay.", Word: "masarap", Type: "Panlarawan"},
    {Text: "Siya ay may tatlong lapis.", Word: "tatlong", Type: "Pamilang"},
    {Text: "Ang malakas na ulan ay bumagsak.", Word: "malakas", Type: "Panlarawan"},
    {Text: "May limang prutas sa basket.", Word: "limang", Type: "Pamilang"}
];

// ==== Variables ====
let currentSection = 1;
let currentIndex = 0;
let totalQuestions = 0;
let score = 0;

// ==== References ====
const sectionLabel = document.getElementById('sectionLabel');
const quizSection = document.getElementById('quiz-section');
const btnCheck = document.getElementById('btnCheck');
const btnNext = document.getElementById('btnNext');
const lblResult = document.getElementById('lblResult');

// ==== Initialize ====
function initialize() {
    currentSection = 1;
    currentIndex = 0;
    score = 0;
    totalQuestions = 0;
    lblResult.textContent = "";
    btnNext.disabled = true;
    btnCheck.disabled = false;
    loadQuestion();
}

// ==== Load Question ====
function loadQuestion() {
    lblResult.textContent = "";
    btnNext.disabled = true;
    btnCheck.disabled = false;
    quizSection.innerHTML = "";
    switch(currentSection) {
        case 1:
            sectionLabel.textContent = "Seksiyon 1: Pamilang";
            displayPamilangQuestion();
            break;
        case 2:
            sectionLabel.textContent = "Seksiyon 2: Tayutay";
            displayTayutayQuestion();
            break;
        case 3:
            sectionLabel.textContent = "Seksiyon 3: Pang-uri";
            displayPangUriQuestion();
            break;
        default:
            sectionLabel.textContent = "Natapos ang Pagsusulit";
            quizSection.innerHTML = `<p>Ang iyong score ay ${score} sa kabuuang ${totalQuestions} na tanong.</p>`;
            btnCheck.style.display = 'none';
            btnNext.style.display = 'none';
            break;
    }
}

function displayPamilangQuestion() {
    if(currentIndex >= pamilangQuestions.length) {
        currentSection++;
        currentIndex = 0;
        loadQuestion();
        return;
    }
    totalQuestions++;
    const q = pamilangQuestions[currentIndex];
    const p = document.createElement('p');
    p.className = 'question';
    p.textContent = q.Text.replace(q.Word, "__________");
    quizSection.appendChild(p);

    const input = document.createElement('input');
    input.type = "text";
    input.id = "txtAnswer";
    input.placeholder = "Ilagay ang sagot";
    quizSection.appendChild(input);
}

function displayTayutayQuestion() {
    if(currentIndex >= tayutayQuestions.length) {
        currentSection++;
        currentIndex = 0;
        loadQuestion();
        return;
    }
    totalQuestions++;
    const q = tayutayQuestions[currentIndex];
    const p = document.createElement('p');
    p.className = 'question';
    p.textContent = q.Text;
    quizSection.appendChild(p);

    const select = document.createElement('select');
    select.id = "selAnswer";
    const options = ["Piliin ang sagot","Simili", "Metapora"];
    options.forEach(opt => {
        const option = document.createElement('option');
        option.value = opt;
        option.textContent = opt;
        select.appendChild(option);
    });
    quizSection.appendChild(select);
}

function displayPangUriQuestion() {
    if(currentIndex >= pangUriQuestions.length) {
        currentSection++;
        currentIndex = 0;
        loadQuestion();
        return;
    }
    totalQuestions++;
    const q = pangUriQuestions[currentIndex];
    const p = document.createElement('p');
    p.className = 'question';
    p.textContent = q.Text.replace(q.Word, "__________");
    quizSection.appendChild(p);

    if(q.Type === "Pamilang") {
        const input = document.createElement('input');
        input.type = "text";
        input.id = "txtAnswer";
        input.placeholder = "Ilagay ang sagot";
        quizSection.appendChild(input);
    } else {
        const input = document.createElement('input');
        input.type = "text";
        input.id = "txtAnswer";
        input.placeholder = "Ilagay ang pang-uri";
        quizSection.appendChild(input);
    }
}

// ==== Check Answer ====
btnCheck.addEventListener('click', () => {
    let isCorrect = false;
    let userAnswer = "";

    switch(currentSection) {
        case 1: // Pamilang
            const txtAnswerPamilang = document.getElementById('txtAnswer');
            if(!txtAnswerPamilang || txtAnswerPamilang.value.trim() === "") {
                alert("Pakilagay ang sagot.");
                return;
            }
            userAnswer = txtAnswerPamilang.value.trim().toLowerCase();
            const correctAnswerPamilang = pamilangQuestions[currentIndex].Word.toLowerCase();
            if(userAnswer === correctAnswerPamilang) {
                isCorrect = true;
            }
            break;
        case 2: // Tayutay
            const selAnswerTayutay = document.getElementById('selAnswer');
            if(!selAnswerTayutay || selAnswerTayutay.value === "Piliin ang sagot") {
                alert("Pakipili ang sagot.");
                return;
            }
            userAnswer = selAnswerTayutay.value;
            const correctAnswerTayutay = tayutayQuestions[currentIndex].Answer;
            if(userAnswer.toLowerCase() === correctAnswerTayutay.toLowerCase()) {
                isCorrect = true;
            }
            break;
        case 3: // Pang-uri
            const txtAnswerPangUri = document.getElementById('txtAnswer');
            if(!txtAnswerPangUri || txtAnswerPangUri.value.trim() === "") {
                alert("Pakilagay ang sagot.");
                return;
            }
            userAnswer = txtAnswerPangUri.value.trim().toLowerCase();
            const correctAnswerPangUri = pangUriQuestions[currentIndex].Word.toLowerCase();
            if(userAnswer === correctAnswerPangUri) {
                isCorrect = true;
            }
            break;
    }

    if(isCorrect) {
        lblResult.textContent = "Tama!";
        lblResult.style.color = "green";
        score++;
    } else {
        lblResult.textContent = "Mali!";
        lblResult.style.color = "red";
    }

    btnCheck.disabled = true;
    btnNext.disabled = false;
});

// ==== Next Question ====
btnNext.addEventListener('click', () => {
    currentIndex++;
    btnCheck.disabled = false;
    btnNext.disabled = true;
    lblResult.textContent = "";
    loadQuestion();
});

// ==== Start the quiz ====
initialize();
</script>
</body>
</html>
